<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/redux/4.2.1/redux.js"></script>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link 
        href="https://fonts.googleapis.com/css2?family=Anek+Malayalam:wght@300&family=Fascinate&family=Kdam+Thmor+Pro&family=Noto+Sans+KR:wght@300&family=Open+Sans&family=Roboto:wght@300&display=swap"
        rel="stylesheet">
  <style>
    .container {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 10px;
      padding: 10px;
      border: 5px solid #000;

      margin-top: 20px;
    }
    .item {
      border: 5px solid orange;
      height: 100px;
      padding: 20px;
      font-size: 32px;
    }
    .item:nth-child(1) {
        font-family: 'Anek Malayalam', sans-serif;
    }
    .item:nth-child(2) {
      font-family: 'Fascinate', sans-serif;
    }
    .item:nth-child(3) {
      font-family: 'Kdam Thmor Pro', sans-serif;
    }
    .item:nth-child(4) {
      font-family: 'Noto Sans KR', sans-serif;
    }
    .item:nth-child(5) {
      font-family: 'Open Sans', sans-serif;
    }
    .item:nth-child(6) {
      font-family: 'Roboto', sans-serif;
    }
  </style>
</head>
<body>
    <!-- 텍스트를 입력 받는 input -->
    <input type="text" id="inputText">

    <button type="button" onclick="store.dispatch({type: 'TEXT', text: document.querySelector('#inputText').value})">눌러주세요</button> 
    <button type="button" onclick="store.dispatch({type: 'STYLE_BORDER', borderRadius: '10px'})">Rounded</button> 
    <button type="button" onclick="store.dispatch({type: 'STYLE_BORDER', borderRadius: '40px'})">Circle</button> 
    <button type="button" onclick="store.dispatch({type: 'STYLE_BORDER', borderRadius:'0px'})">Rect</button> 
    <button type="button" onclick="store.dispatch({type: 'STYLE_BORDER_COLOR', border: '5px solid red'})">Red</button> 
    <button type="button" onclick="store.dispatch({type: 'STYLE_BORDER_COLOR', border: '5px solid Green'})">Green</button> 
    <button type="button" onclick="store.dispatch({type: 'STYLE_BORDER_COLOR', border: '5px solid Blue'})">Blue</button> 
  
    <div class="container">
      <!-- <div id="item1" class="item"></div>
      <div id="item2" class="item"></div>
      <div id="item3" class="item"></div>
      <div id="item4" class="item"></div>
      <div id="item5" class="item"></div>
      <div id="item6" class="item"></div> -->
    </div>

    <script>
      const container = document.querySelector('.container');

      const initState = {
        text: 'hello',
        color: 'black',
        border: '5px solid orange',
        borderRadius: '0px'
      }

      const reducer = (state = initState, action) => {
        container.innerHTML = null;
        switch(action.type) {
          case 'TEXT':
            return {
              ...state,
              text: action.text
            }
          case 'STYLE_BORDER':
            return {
              ...state,
              borderRadius: action.borderRadius
            }
          case 'STYLE_BORDER_COLOR':
            return {
              ...state,
              border: action.border
            }
          default:
            return state;
        }
      };

      const store = Redux.createStore(reducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());

      const item1 = () => {
        const state = store.getState();
        console.log(state)
        const template = `<div id="item1" class="item" style="border: ${state.border}; border-radius: ${state.borderRadius};">${state.text}</div>`

        container.innerHTML += template;
      }
      store.subscribe(item1);
      item1();

      const item2 = () => {
        const state = store.getState();
        console.log(state)
        const template = `<div id="item1" class="item" style="border: ${state.border}; border-radius: ${state.borderRadius};">${state.text}</div>`

        container.innerHTML += template;
      }
      store.subscribe(item2);
      item2()


      const item3 = () => {
        const state = store.getState();
        console.log(state)
        const template = `<div id="item1" class="item" style="border: ${state.border}; border-radius: ${state.borderRadius};">${state.text}</div>`

        container.innerHTML += template;
      }
      store.subscribe(item3);
      item3()

      const item4 = () => {
        const state = store.getState();
        console.log(state)
        const template = `<div id="item1" class="item" style="border: ${state.border}; border-radius: ${state.borderRadius};">${state.text}</div>`

        container.innerHTML += template;
      }
      store.subscribe(item4);
      item4()


      const item5 = () => {
        const state = store.getState();
        console.log(state)
        const template = `<div id="item1" class="item" style="border: ${state.border}; border-radius: ${state.borderRadius};">${state.text}</div>`

        container.innerHTML += template;
      }
      store.subscribe(item5);
      item5()

      const item6 = () => {
        const state = store.getState();
        console.log(state)
        const template = `<div id="item1" class="item" style="border: ${state.border}; border-radius: ${state.borderRadius};">${state.text}</div>`

        container.innerHTML += template;
      }
      store.subscribe(item6);
      item6()


    </script>
</body>
</html>